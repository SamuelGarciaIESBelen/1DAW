DROP DATABASE IF EXISTS ejemplos;
CREATE DATABASE ejemplos ;

USE ejemplos;

CREATE OR REPLACE TABLE DEPARTAMENTOS(
	DEP_NO 			INT(2),
  	DNOMBRE 			VARCHAR(14),
  	LOCALIDAD 		VARCHAR(10),
	CONSTRAINT PK_DEPARTAMENTOS_DEP_NO PRIMARY KEY (DEP_NO)
);



CREATE OR REPLACE TABLE EMPLEADOS(
	EMP_NO 			INT(4),
  	NOMAP		 		VARCHAR(30),
  	OFICIO 			VARCHAR(10),
  	DIRECTOR 		INT(4),
  	FECHA_ALTA 		DATE,
  	SALARIO 			FLOAT(6,2),
  	COMISION 		FLOAT(6,2),
  	DEP_NO 			INT (2),
	CONSTRAINT PK_EMPLEADOS_EMP_NO PRIMARY KEY (EMP_NO),
	CONSTRAINT FK_EMP_DIRECTOR FOREIGN KEY (DIRECTOR) REFERENCES EMPLEADOS(EMP_NO),
	CONSTRAINT FK_EMP_DEP_NO FOREIGN KEY (DEP_NO) REFERENCES DEPARTAMENTOS(DEP_NO)
);

# INSERCIÓN DE DATOS EN DEPARTAMENTOS

INSERT INTO DEPARTAMENTOS VALUES(10, 'CONTABILIDAD', 'BARCELONA');
INSERT INTO DEPARTAMENTOS VALUES(20, 'INVESTIGACION', 'VALENCIA');
INSERT INTO DEPARTAMENTOS VALUES(30, 'VENTAS',        'MADRID'); 
INSERT INTO DEPARTAMENTOS VALUES(40, 'PRODUCCION',    'SEVILLA');


# INSERCIÓN DE DATOS EN EMPLEADOS

INSERT INTO EMPLEADOS VALUES (7839,'JUAN REY','PRESIDENTE',NULL,'2001-11-17',6000,   NULL, 10);
INSERT INTO EMPLEADOS VALUES (7698,'MARTA GARRIDO', 'DIRECTOR',  7839,'2001-05-01',3850.12,NULL, 30);
INSERT INTO EMPLEADOS VALUES (7782,'MIGUEL MARTINEZ','DIRECTOR',  7839,'2001-06-09',2450,   NULL, 10);
INSERT INTO EMPLEADOS VALUES(7499,'DANIEL ALONSO', 'VENDEDOR',  7698,'2001-02-23',1400,   400,30);
INSERT INTO EMPLEADOS VALUES (7521,'PAULA LOPEZ', 'EMPLEADO',  7782,'2001-05-08',1350.50,NULL,10);      
INSERT INTO EMPLEADOS VALUES (7654,'SARA MARTIN', 'VENDEDOR',  7698,'2001-09-28',1500,   1600, 30);
INSERT INTO EMPLEADOS VALUES (7844,'FRANCISCO CALVO', 'VENDEDOR',  7698,'2002-09-08',1800,   0,    30);
INSERT INTO EMPLEADOS VALUES (7876,'FRANCISCO GIL', 'ANALISTA',  7782,'2002-05-06',3350,   NULL, 20);
INSERT INTO EMPLEADOS VALUES (7900,'LIDIA JIMENEZ', 'EMPLEADO',  7782,'2003-03-24',1400,   NULL, 20);	


